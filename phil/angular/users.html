<!DOCTYPE html>
<html ng-app='app'>
    <head>
        <meta charset="utf-8">
        <title>User Control</title>
        <script type="text/javascript" src="./bower_components/angular/angular.min.js"></script>
        <script type="text/javascript">
            angular.module('app', []).controller('userCtrl', ['$scope', function($scope) {
                $scope.users = [];
                $scope.addUser = function() {
                    $scope.users.push($scope.newUser);
                    $scope.newUser = {};
                }
                $scope.destroyUser = function(index) {
                    $scope.users.splice(index, 1);
                }
            }]);
        </script>
    </head>
    <body>
        <div ng-controller='userCtrl'>
            <form ng-submit='addUser()'>
                <p>First Name: <input type="text" ng-model='newUser.first_name' /></p>
                <p>Last Name: <input type="text" ng-model='newUser.last_name' /></p>
                <p>Favorite Language: <input type="text" ng-model='newUser.language' /></p>
                <input type="submit" value="Create User">
            </form>
            <table ng-if='users.length'>
                <tr>
                    <th>First Name</th>
                    <th>Last Name</th>
                    <th>Favorite Language</th>
                    <th></th>
                </tr>
                <tr ng-repeat='user in users track by $index'>
                    <td>{{user.first_name}}</td>
                    <td>{{user.last_name}}</td>
                    <td>{{user.language}}</td>
                    <td><button type="button" ng-click='destroyUser($index)'>Delete User</button></td>
                </tr>
            </table>
        </div>
    </body>
</html>
